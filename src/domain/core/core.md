# üß© Domain Core Overview

**`src/domain/core/`** ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–ª–æ–π –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏: —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π, —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –¥–æ—Å–∫–∏, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.

---

## –ú–æ–¥—É–ª–∏ –∏ –∫–ª–∞—Å—Å—ã

### 1. `ability.py` ‚Äî **–°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (Abilities)**

```python
@dataclass(frozen=True, slots=True)
class Ability:
    name: str                # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, "fireball")
    range: int               # –î–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
    cost: int                # –°—Ç–æ–∏–º–æ—Å—Ç—å –≤ AP
    target: TargetType       # –¢–∏–ø —Ü–µ–ª–∏: SELF, ENEMY, ALLY –∏ –¥—Ä.
    effects: FrozenSet[Effect]  # –ù–∞–±–æ—Ä —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –∞–±–∏–ª–∫–∞
    cast_time: int = 1       # –°–∫–æ–ª—å–∫–æ —Ç–∏–∫–æ–≤ –¥–ª–∏—Ç—Å—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
    aoe: int = 0             # –†–∞–¥–∏—É—Å –¥–µ–π—Å—Ç–≤–∏—è (0 ‚Äî –æ–¥–Ω–æ—Ü–µ–ª–µ–≤–∞—è)
    bounces: int = 0         # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ "–ø—Ä—ã–∂–∫–æ–≤" (–¥–ª—è —Ü–µ–ø–Ω—ã—Ö —É–º–µ–Ω–∏–π)
    bounce_mult: float = 1.0 # –ú–Ω–æ–∂–∏—Ç–µ–ª—å —Å–∏–ª—ã –ø—Ä—ã–∂–∫–∞
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "melee_attack", "move_to", "fireball"). –ê–±–∏–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.

2. action.py ‚Äî –ê–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (Active Actions)
python
Copy
Edit
@dataclass
class ActiveAction:
    ability: Ability
    target: Position
    ticks_remaining: int
    path: Optional[List[Position]] = None
    target_unit_id: Optional[int] = None
    started: bool = False

    def tick(self) -> bool:
        self.ticks_remaining -= 1
        return self.ticks_remaining <= 0
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–•—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–µ–µ "–ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–µ" –¥–µ–π—Å—Ç–≤–∏–µ —é–Ω–∏—Ç–∞: –∫–∞–∫—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–Ω –∫–∞—Å—Ç—É–µ—Ç, –ø–æ –∫–∞–∫–æ–π —Ü–µ–ª–∏, —Å–∫–æ–ª—å–∫–æ —Ç–∏–∫–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å, –∫–∞–∫–æ–π –ø—É—Ç—å –∏–¥—ë—Ç (–¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è), –Ω–∞—á–∞—Ç–æ –ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π (–¥–≤–∏–∂–µ–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Å—Ç—ã).

3. board.py ‚Äî –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ (Board)
python
Copy
Edit
@dataclass(slots=True)
class Board:
    obstacles: Set[Position] = field(default_factory=set)
    regen_zone: Set[Position] = field(default_factory=set)

    def is_blocked(self, pos: Position) -> bool
    def is_line_blocked(self, a: Position, b: Position) -> bool
    def apply_zone_effects(self, state: 'GameState') -> None
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç—É —É—Ä–æ–≤–Ω—è:

obstacles ‚Äî –∫–ª–µ—Ç–∫–∏-—Å—Ç–µ–Ω—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–ª—å–∑—è –ø—Ä–æ–π—Ç–∏/–ø—Ä–æ—Å—Ç—Ä–µ–ª–∏—Ç—å.

regen_zone ‚Äî –∫–ª–µ—Ç–∫–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è HP.

–ú–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–π—Ç–∏/–ø—Ä–æ—Å—Ç—Ä–µ–ª–∏—Ç—å –º–µ–∂–¥—É –¥–≤—É–º—è —Ç–æ—á–∫–∞–º–∏, –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∑–æ–Ω–∞–ª—å–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.

4. effect.py ‚Äî –≠—Ñ—Ñ–µ–∫—Ç—ã (Effects)
python
Copy
Edit
@dataclass(frozen=True, slots=True)
class Effect:
    type: EffectType    # –¢–∏–ø —ç—Ñ—Ñ–µ–∫—Ç–∞ (DAMAGE, HEAL, SHIELD –∏ –¥—Ä.)
    value: int          # –ó–Ω–∞—á–µ–Ω–∏–µ (—Å–∫–æ–ª—å–∫–æ HP –ª–µ—á–∏—Ç/—Å–Ω–∏–º–∞–µ—Ç, —Å–∏–ª–∞ —â–∏—Ç–∞ –∏ –¥—Ä.)
    duration: int       # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤ —Ç–∏–∫–∞—Ö)
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
–ö–ª–∞—Å—Å –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ (—É—Ä–æ–Ω, —â–∏—Ç, –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –∏ –¥—Ä.), –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∞–±–∏–ª–∫–æ–π –Ω–∞ —Ü–µ–ª—å.

5. state.py ‚Äî –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã (GameState)
python
Copy
Edit
@dataclass(slots=True)
class GameState:
    tick: int
    units: Dict[int, HeroUnit]
    board: Board

    def clear_temporary(self) -> None
    def get_unit_at(self, pos)
    def is_game_over(self) -> bool
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—é –∏–≥—Ä–æ–≤—É—é "–∫–∞—Ä—Ç–∏–Ω—É": –∫—Ç–æ –∂–∏–≤, –∫—Ç–æ –≥–¥–µ —Å—Ç–æ–∏—Ç, –∫–∞–∫–∏–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è.

–•—Ä–∞–Ω–∏—Ç –≤—Å–µ —é–Ω–∏—Ç—ã (units) –∏ –∏–≥—Ä–æ–≤—É—é –¥–æ—Å–∫—É (board).

–ú–µ—Ç–æ–¥—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —é–Ω–∏—Ç—É –ø–æ –ø–æ–∑–∏—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã.

–í–∑–∞–∏–º–æ—Å–≤—è–∑–∏
Ability –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ActiveAction (–∫–∞–∫—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∫–∞—Å—Ç—É–µ—Ç —é–Ω–∏—Ç).

Effect —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Ability (—á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –∫–∞—Å—Ç–µ).

Board –∏ GameState –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—è –∏ –æ–±—ä–µ–∫—Ç–æ–≤.

GameState —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —é–Ω–∏—Ç—ã (HeroUnit) –∏ –¥–æ—Å–∫—É (Board).

ActiveAction (—É —é–Ω–∏—Ç–∞) ‚Äî –∫–ª—é—á–µ–≤–æ–π –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º "—á—Ç–æ —Å–µ–π—á–∞—Å –¥–µ–ª–∞–µ—Ç —é–Ω–∏—Ç".

–î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –∫–ª–∞—Å—Å—ã?
Ability ‚Äî –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞ –∏–ª–∏ –∏–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å.

ActiveAction ‚Äî –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—Ç—å, —á—Ç–æ —Å–µ–π—á–∞—Å –¥–µ–ª–∞–µ—Ç —é–Ω–∏—Ç –∏ —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –æ—Å—Ç–∞–ª–æ—Å—å.

Board ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –º–æ–∂–Ω–æ –ª–∏ —Ö–æ–¥–∏—Ç—å/—Å—Ç—Ä–µ–ª—è—Ç—å –ø–æ –∫–ª–µ—Ç–∫–µ.

Effect ‚Äî —á—Ç–æ–±—ã –Ω–∞–≤–µ—Å–∏—Ç—å/—Å–Ω—è—Ç—å —ç—Ñ—Ñ–µ–∫—Ç—ã —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

GameState ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –∏–≥—Ä—ã –≤ –ª—é–±–æ–º —Ç–∏–∫–µ.

–í—Å–µ —ç—Ç–∏ –∫–ª–∞—Å—Å—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–∫—Ä–æ–º–µ –º–µ—Ç–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–∞ –∏ –ø—Ä–æ—Å—Ç—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π) –∏ –æ–±—Ä–∞–∑—É—é—Ç —á–∏—Å—Ç—É—é, –Ω–µ–∑–∞–≤–∏—Å–∏–º—É—é –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å. –í—Å—è "–º–∞–≥–∏—è" —Å–∏–º—É–ª—è—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ engine ‚Äî —ç—Ç–∏ –∫–ª–∞—Å—Å—ã –ª–∏—à—å –µ—ë –æ–ø–∏—Å—ã–≤–∞—é—Ç.

# üì¶ src/domain/core ‚Äî –ú–æ–¥–µ–ª—å —é–Ω–∏—Ç–∞ –∏ —Å—Ç–∞—Ç—ã

## –ú–æ–¥—É–ª—å `unit_stats.py`
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ª—é–±–æ–≥–æ —é–Ω–∏—Ç–∞ (–Ω–µ –∏–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ "–ø–∞—Å–ø–æ—Ä—Ç"):

```python
@dataclass(frozen=True, slots=True)
class UnitStats:
    """
    –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —é–Ω–∏—Ç–∞:
      - hp_max       ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
      - move_range   ‚Äî —Å–∫–æ–ª—å–∫–æ –∫–ª–µ—Ç–æ–∫ –º–æ–∂–µ—Ç –ø—Ä–æ–π—Ç–∏ –∑–∞ 1 AP
      - block_chance ‚Äî —à–∞–Ω—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—å —É—Ä–æ–Ω–∞ (0-100%)
      - max_ap       ‚Äî —Å–∫–æ–ª—å–∫–æ AP —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ —Ö–æ–¥–∞
    """
    hp_max: int
    move_range: int = 1
    block_chance: int = 0
    max_ap: int = MAX_AP
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ –≥–µ—Ä–æ—è, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ "–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ" –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —é–Ω–∏—Ç–∞.

–ú–æ–¥—É–ª—å unit.py
–Ø–¥—Ä–æ –º–æ–¥–µ–ª–∏ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞: HeroUnit.

–û—Å–Ω–æ–≤–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:
–•—Ä–∞–Ω–∏—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —é–Ω–∏—Ç–∞ (HP, AP, –ø–æ–∑–∏—Ü–∏—è, —ç—Ñ—Ñ–µ–∫—Ç—ã, —Ç–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ).

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å "–±–æ–µ–≤—ã–º–∏" –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ combat-–º–æ–¥—É–ª—å.

–†–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É —Å—Ç–∞—Ä—Ç–∞ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è —Å –∞–≤—Ç–æ–ø–æ–≤—Ç–æ—Ä–æ–º.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–Ω–æ–≤–æ —Å—Ç–∞–≤–∏—Ç –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–æ override).

–†–∞–±–æ—Ç–∞–µ—Ç —Å pathfinding –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é: —É—Ä–æ–Ω, –ª–µ—á–µ–Ω–∏–µ, —ç—Ñ—Ñ–µ–∫—Ç—ã ‚Äî –≤ combat.

python
Copy
Edit
@dataclass(slots=True)
class HeroUnit:
    id: int
    role: UnitRole
    team: TeamId
    pos: Position
    profile: CharacterProfile
    hp: int = field(init=False)
    ap: int = field(init=False)
    effects: list[Effect] = field(default_factory=list, init=False)
    current_action: Optional[ActiveAction] = field(default=None, init=False)
    ...
–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:
tick_effects ‚Äî —É–º–µ–Ω—å—à–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, —É–¥–∞–ª—è—è –∏—Å—Ç—ë–∫—à–∏–µ.

apply_ap_regen ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç AP –ø–æ –ø—Ä–æ—Ñ–∏–ª—é.

apply_damage/apply_heal/add_effect ‚Äî –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–æ–µ–≤—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º (–¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç combat-–º–æ–¥—É–ª—é).

start_action ‚Äî –Ω–∞—á–∏–Ω–∞–µ—Ç –Ω–æ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (–µ—Å–ª–∏ –Ω–µ –∫–∞—Å—Ç—É–µ—Ç —á—Ç–æ-—Ç–æ).

advance_action ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª: –¥–≤–∏–∂–µ–Ω–∏–µ, –∫–∞—Å—Ç—ã, –ø–æ–≤—Ç–æ—Ä.

–¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
UnitStats ‚Äî –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –ø–æ–ª—É—á–∏—Ç—å/–∑–∞–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–µ –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—è.

HeroUnit ‚Äî –≤—Å–µ–≥–¥–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –∏–≥—Ä–æ–≤–æ–º—É —é–Ω–∏—Ç—É –≤ GameState.

–û—Ç–ª–∏—á–∏–µ:
UnitStats ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –Ω–∞–±–æ—Ä —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ ("–ø—Ä–æ—Ñ–∏–ª—å" —é–Ω–∏—Ç–∞, –∞–Ω–∞–ª–æ–≥ D&D stat block).

HeroUnit ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ, –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —é–Ω–∏—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç–µ (HP, AP, —ç—Ñ—Ñ–µ–∫—Ç—ã, –ø–æ–∑–∏—Ü–∏—è, —Ç–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ).

–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
–ë–æ–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã–≤–µ–¥–µ–Ω–∞ –≤ combat-–º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —é–Ω–∏—Ç–∞ (–∫–∞—Å—Ç, –¥–≤–∏–∂–µ–Ω–∏–µ, –æ–∂–∏–¥–∞–Ω–∏–µ) –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ advance_action.

current_action –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–æ –Ω–æ–≤—ã–º –∏–Ω—Ç–µ–Ω—Ç–æ–º.